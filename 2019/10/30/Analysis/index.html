<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content>
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Analysis - Hiko Amane&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Hiko Amane&#39;s Blog </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg">
        </div>
        <div class="name">
            <i>Yan Zhou</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li>
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li>
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li>
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li>
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kinesis-Analytics"><span class="toc-text">Kinesis Analytics</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Kinesis-Analytics-Use-Cases"><span class="toc-text">Kinesis Analytics Use Cases</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Schema-discovery"><span class="toc-text">Schema discovery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RANDOM-CUT-FOREST"><span class="toc-text">RANDOM_CUT_FOREST</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Amazon-Elasticsearch-Service-ES"><span class="toc-text">Amazon Elasticsearch Service (ES)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Use-Cases"><span class="toc-text">ES Use Cases</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Concepts"><span class="toc-text">ES Concepts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Features"><span class="toc-text">ES Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Options"><span class="toc-text">ES Options</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Security"><span class="toc-text">ES Security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES-Anti-patterns"><span class="toc-text">ES Anti-patterns</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Amazon-Athena"><span class="toc-text">Amazon Athena</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Athena-Integration"><span class="toc-text">Athena Integration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Athena-with-Glue"><span class="toc-text">Athena with Glue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Athena-Cost-Model"><span class="toc-text">Athena Cost Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Athena-Security"><span class="toc-text">Athena Security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Athena-Anti-patterns"><span class="toc-text">Athena Anti-patterns</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Amazon-Redshift"><span class="toc-text">Amazon Redshift</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Architecture"><span class="toc-text">Redshift Architecture</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Spectrum"><span class="toc-text">Redshift Spectrum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Performance"><span class="toc-text">Redshift Performance</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Durability"><span class="toc-text">Redshift Durability</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Scaling"><span class="toc-text">Redshift Scaling</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Distribution-Styles"><span class="toc-text">Redshift Distribution Styles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Sort-Keys"><span class="toc-text">Redshift Sort Keys</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Import-Export-Data"><span class="toc-text">Redshift Import / Export Data</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Redshift-Copy-Grant-for-Cross-region-Snapshot-Copy"><span class="toc-text">Redshift Copy Grant for Cross-region Snapshot Copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DBLINK"><span class="toc-text">DBLINK</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Integration"><span class="toc-text">Redshift Integration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Workload-Management-WLM"><span class="toc-text">Redshift Workload Management (WLM)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-VACUUM-Command"><span class="toc-text">Redshift VACUUM Command</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Security"><span class="toc-text">Redshift Security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redshift-Anti-patterns"><span class="toc-text">Redshift Anti-patterns</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Amazon-RDS"><span class="toc-text">Amazon RDS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ACID"><span class="toc-text">ACID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Amazon-Aurora"><span class="toc-text">Amazon Aurora</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Aurora-Security"><span class="toc-text">Aurora Security</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input">
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Hiko Amane&#39;s Blog </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Analysis
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2019-10-30 08:50:00</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#AWS - Big Data" title="AWS - Big Data">AWS - Big Data</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>

    </div>
    <div class="post-content no-indent">
        <h1 id="Kinesis-Analytics"><a href="#Kinesis-Analytics" class="headerlink" title="Kinesis Analytics"></a>Kinesis Analytics</h1><ul>
<li>Querying streams of data continuously</li>
<li>Can receive data from and send results to<ul>
<li>Kinesis Data Streams</li>
<li>Kinesis Data Firehose</li>
</ul>
</li>
<li>Analysis using SQL</li>
<li>Can use reference table from S3 to help analysis</li>
<li>Errors will be output to Error Stream</li>
</ul>
<h2 id="Kinesis-Analytics-Use-Cases"><a href="#Kinesis-Analytics-Use-Cases" class="headerlink" title="Kinesis Analytics Use Cases"></a>Kinesis Analytics Use Cases</h2><ul>
<li>Streaming ETL</li>
<li>Continuous metric generation</li>
<li>Responsive analytics</li>
</ul>
<h2 id="Schema-discovery"><a href="#Schema-discovery" class="headerlink" title="Schema discovery"></a>Schema discovery</h2><ul>
<li>Generate data schema automatically by feeding some stream data</li>
</ul>
<h2 id="RANDOM-CUT-FOREST"><a href="#RANDOM-CUT-FOREST" class="headerlink" title="RANDOM_CUT_FOREST"></a>RANDOM_CUT_FOREST</h2><ul>
<li>A SQL function offered by Kinesis Data Analytics</li>
<li>For anomaly detection</li>
</ul>
<h1 id="Amazon-Elasticsearch-Service-ES"><a href="#Amazon-Elasticsearch-Service-ES" class="headerlink" title="Amazon Elasticsearch Service (ES)"></a>Amazon Elasticsearch Service (ES)</h1><ul>
<li>Petabyte-scale search, analysis, and reporting tools</li>
<li>Fundamentally based on a search engine (Lucine)</li>
<li>ES can be regarded as a analysis tool<ul>
<li>Has a visualization tool (Kibana)</li>
</ul>
</li>
<li>Can use data pipeline to send stream data to ES<ul>
<li>Kinesis</li>
<li>Beats, LogStash, Apache Kafka</li>
<li>ES API</li>
</ul>
</li>
<li>Horizontally scalable</li>
</ul>
<h2 id="ES-Use-Cases"><a href="#ES-Use-Cases" class="headerlink" title="ES Use Cases"></a>ES Use Cases</h2><ul>
<li>Text search</li>
<li>Log analytics</li>
<li>Application monitoring</li>
<li>Security analytics</li>
<li>Click stream analytics</li>
</ul>
<h2 id="ES-Concepts"><a href="#ES-Concepts" class="headerlink" title="ES Concepts"></a>ES Concepts</h2><ul>
<li>Documents<ul>
<li>Text or JSON</li>
</ul>
</li>
<li>Types<ul>
<li>Define th schema and mapping shared by documents</li>
</ul>
</li>
<li>Indices<ul>
<li>Power search into all documents within a collection of types</li>
<li>An index is split into shard<ul>
<li>A primary shard and replicas</li>
<li>Write requests are routed to the primary shard, then replicated</li>
<li>Read requests are routed any shards</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ES-Features"><a href="#ES-Features" class="headerlink" title="ES Features"></a>ES Features</h2><ul>
<li>Full-managed but not serverless, ES runs based on EC2<ul>
<li>Can scale up or down without downtime but should it manually</li>
</ul>
</li>
<li>Network isolation (VPC)<ul>
<li>Can use all the features of VPC</li>
</ul>
</li>
<li>AWS integration<ul>
<li>AWS IoT</li>
<li>S3 via Lambda to Kinesis</li>
<li>Kinesis Data Streams</li>
<li>DynamoDB Streams</li>
</ul>
</li>
</ul>
<h2 id="ES-Options"><a href="#ES-Options" class="headerlink" title="ES Options"></a>ES Options</h2><ul>
<li>Dedicated master node(s)<ul>
<li>Only used for the management and dose not hold or process data</li>
<li>Decide numbers and instance types</li>
</ul>
</li>
<li>Domains<ul>
<li>A collection of all the resources of a ES cluster</li>
</ul>
</li>
<li>Automatic snapshots to S3</li>
</ul>
<h2 id="ES-Security"><a href="#ES-Security" class="headerlink" title="ES Security"></a>ES Security</h2><ul>
<li>Resource, identity, IP-based policies</li>
<li>Request signing</li>
<li>VPC</li>
<li>Cognito</li>
</ul>
<h2 id="ES-Anti-patterns"><a href="#ES-Anti-patterns" class="headerlink" title="ES Anti-patterns"></a>ES Anti-patterns</h2><ul>
<li>OLTP<ul>
<li>RDS or DynamoDB</li>
</ul>
</li>
<li>Ad-hoc data querying<ul>
<li>Athena</li>
</ul>
</li>
</ul>
<h1 id="Amazon-Athena"><a href="#Amazon-Athena" class="headerlink" title="Amazon Athena"></a>Amazon Athena</h1><ul>
<li>Interactive query service for S3 in SQL</li>
<li>Use Presto</li>
<li>Supported data formats<ul>
<li>CSV</li>
<li>JSON</li>
<li>ORC (columnar, splittable)</li>
<li>Parquet (columnar, splittable)</li>
<li>Avro (splittable)</li>
</ul>
</li>
</ul>
<h2 id="Athena-Integration"><a href="#Athena-Integration" class="headerlink" title="Athena Integration"></a>Athena Integration</h2><ul>
<li>Jupyter, Zeppelin, RStudio notebooks</li>
<li>QuickSight</li>
<li>Other visualization tools via ODBC / JDBC</li>
</ul>
<h2 id="Athena-with-Glue"><a href="#Athena-with-Glue" class="headerlink" title="Athena with Glue"></a>Athena with Glue</h2><ul>
<li>Use Glue to define unstructured data in S3</li>
</ul>
<h2 id="Athena-Cost-Model"><a href="#Athena-Cost-Model" class="headerlink" title="Athena Cost Model"></a>Athena Cost Model</h2><ul>
<li>Successful and cancelled queries count, failed queries not</li>
<li>No charge for DDL</li>
<li>Save money by using columnar formats<ul>
<li>ORC, Parquet</li>
<li>And better performance</li>
</ul>
</li>
<li>Glue and S3 charge separately</li>
</ul>
<h2 id="Athena-Security"><a href="#Athena-Security" class="headerlink" title="Athena Security"></a>Athena Security</h2><ul>
<li>Access control<ul>
<li>IAM, ACLs, S3 bucket policies</li>
<li>Cross-account access in S3 bucket policy possible</li>
</ul>
</li>
<li>Encrypt results at rest in S3 staging directory</li>
<li>TLS encrypts in transit</li>
</ul>
<h2 id="Athena-Anti-patterns"><a href="#Athena-Anti-patterns" class="headerlink" title="Athena Anti-patterns"></a>Athena Anti-patterns</h2><ul>
<li>Highly formatted reports / visualization<ul>
<li>Use QuickSight</li>
</ul>
</li>
<li>ETL<ul>
<li>Use Glue</li>
</ul>
</li>
</ul>
<h1 id="Amazon-Redshift"><a href="#Amazon-Redshift" class="headerlink" title="Amazon Redshift"></a>Amazon Redshift</h1><ul>
<li>Fully-managed, petabyte scale data warehouse service</li>
<li>Designed for OLAP, not OLTP</li>
<li>SQL, ODBC, JDBC interfaces just like other RDB</li>
<li>Easily scale up and down manually</li>
<li>Built-in replication &amp; backups</li>
</ul>
<h2 id="Redshift-Architecture"><a href="#Redshift-Architecture" class="headerlink" title="Redshift Architecture"></a>Redshift Architecture</h2><ul>
<li>Redshift Cluster<ul>
<li>A leader node<ul>
<li>Manage communication with clients &amp; compute nodes</li>
<li>Receives queries form clients &amp; develops execution plans</li>
<li>Coordinates the parallel execution of those plans with compute nodes</li>
<li>Aggregates the intermediate results from compute nodes</li>
</ul>
</li>
<li>1~128 compute nodes<ul>
<li>Store user data</li>
<li>Execute the steps in the execution plans</li>
<li>Can transmit data among themselves</li>
<li>Node types<ul>
<li>Dense storage (DS): xl or 8xl<ul>
<li>HDD</li>
<li>Low costs</li>
</ul>
</li>
<li>Dense compute (DC): xl or 8xl<ul>
<li>SSD</li>
<li>Larger memory</li>
<li>Faster CPU</li>
</ul>
</li>
</ul>
</li>
<li>Slices<ul>
<li>Each compute node is divided into slices</li>
<li>A slice allocates a portion of the memory and disk storage of the node</li>
<li>Size of slices is determined by the node size of the cluster </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Spectrum"><a href="#Redshift-Spectrum" class="headerlink" title="Redshift Spectrum"></a>Redshift Spectrum</h2><ul>
<li>Query unstructured data in S3 like Redshift table without loading</li>
<li>Limitless concurrency &amp; horizontal scaling</li>
<li>Support wide variety of data formats</li>
<li>Support Gzip and Snappy compression</li>
</ul>
<h2 id="Redshift-Performance"><a href="#Redshift-Performance" class="headerlink" title="Redshift Performance"></a>Redshift Performance</h2><ul>
<li>Massively Parallel Processing (MPP)</li>
<li>Columnar Data Storage</li>
<li>Column Compression</li>
</ul>
<h2 id="Redshift-Durability"><a href="#Redshift-Durability" class="headerlink" title="Redshift Durability"></a>Redshift Durability</h2><ul>
<li>Redshift has 3 copies of data<ul>
<li>An original copy within the cluster</li>
<li>A backup repica copy within the cluster</li>
<li>Continuously backed up to S3<ul>
<li>Can furthermore asynchronously replicated to another region<ul>
<li>Default retention period is 1 day, up to 35 days, 0 to turn off</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Redshift will mirror each drive’s data to another nodes within the cluster if there are 2 or more compute nodes<ul>
<li>Can detect a failed drive or node, and replace if automatically</li>
<li>Drive failure<ul>
<li>Redshift will remain available but performance may be declined</li>
</ul>
</li>
<li>Node failure<ul>
<li>Redshift will be unavailable during recovery</li>
<li>Most frequently access data from S3 is loaded first which you can querying as quickly as possible</li>
</ul>
</li>
</ul>
</li>
<li>Redshift is limited to a single AZ<ul>
<li>You have to restore the data from S3 in a different AZ when facing AZ failure</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Scaling"><a href="#Redshift-Scaling" class="headerlink" title="Redshift Scaling"></a>Redshift Scaling</h2><ul>
<li>Vertical and horizontal scaling on demand</li>
<li>During scaling<ul>
<li>A nwe cluster is created while old cluster remains available for reads</li>
<li>CNMAE is flipped to new cluster with a few minutes of downtime</li>
<li>Data moved in parallel to new compute nodes</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Distribution-Styles"><a href="#Redshift-Distribution-Styles" class="headerlink" title="Redshift Distribution Styles"></a>Redshift Distribution Styles</h2><ul>
<li>AUTO<ul>
<li>Default Style, choose one of EVEN, KEY, ALL depends on the size of data</li>
</ul>
</li>
<li>EVEN<ul>
<li>Rows distributed across slices in round-robin</li>
</ul>
</li>
<li>KEY<ul>
<li>Rows distributed based on a column hash</li>
</ul>
</li>
<li>ALL<ul>
<li>Entire table is copied to every node</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Sort-Keys"><a href="#Redshift-Sort-Keys" class="headerlink" title="Redshift Sort Keys"></a>Redshift Sort Keys</h2><ul>
<li>Rows are stored on disk in sorted order based on the column designated as a sort key<ul>
<li>Like an index</li>
<li>Makes for fast range queries</li>
</ul>
</li>
<li>Single vs. Compound vs. Interleaved sort keys<ul>
<li>Single</li>
<li>Compound (default): designate all the columns as sort keys<ul>
<li>Performance will decrease when queries depend only on secondary sort key without referencing the primary sort key</li>
<li>The order is important</li>
<li>Improve compression performance</li>
</ul>
</li>
<li>Interleaved: give equal weight to each column or subset of columns in the sort key<ul>
<li>When multiple queries use different columns for filters</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Import-Export-Data"><a href="#Redshift-Import-Export-Data" class="headerlink" title="Redshift Import / Export Data"></a>Redshift Import / Export Data</h2><ul>
<li>COPY command<ul>
<li>Parallel</li>
<li>From S3, DynamoDB, EMR / EC2 / other remote hosts vis SSH</li>
<li>Copy from S3<ul>
<li>Use S3 object prefix or path</li>
<li>Manifest file</li>
</ul>
</li>
<li>Authorization<ul>
<li>IAM role based</li>
<li>Key based</li>
</ul>
</li>
</ul>
</li>
<li>UNLOAD command<ul>
<li>Efficient way to unload from a table into files in S3</li>
</ul>
</li>
<li>Enhanced VPC routing<ul>
<li>Force all the traffic in a VPC than public Internet</li>
</ul>
</li>
</ul>
<h3 id="Redshift-Copy-Grant-for-Cross-region-Snapshot-Copy"><a href="#Redshift-Copy-Grant-for-Cross-region-Snapshot-Copy" class="headerlink" title="Redshift Copy Grant for Cross-region Snapshot Copy"></a>Redshift Copy Grant for Cross-region Snapshot Copy</h3><ul>
<li>In the destination AWS region<ul>
<li>Create a KMS key or use an old one</li>
<li>Specify an unique name for the copy grant</li>
<li>Specify the KMS key ID for the copy grant<br>In the source AWS region</li>
<li>Enable copying of snapshots to the copy grant</li>
</ul>
</li>
</ul>
<h3 id="DBLINK"><a href="#DBLINK" class="headerlink" title="DBLINK"></a>DBLINK</h3><ul>
<li>Connect Redshift to PostgreSQL</li>
<li>Used to copy and sync data between PostgreSQL and Redshift</li>
</ul>
<h2 id="Redshift-Integration"><a href="#Redshift-Integration" class="headerlink" title="Redshift Integration"></a>Redshift Integration</h2><ul>
<li>S3<ul>
<li>COPY / UNLOAD command</li>
</ul>
</li>
<li>DynamoDB<ul>
<li>COPY command</li>
</ul>
</li>
<li>EMR / EC2<ul>
<li>COPY command via SSH</li>
</ul>
</li>
<li>Data Pipeline</li>
<li>Database Migration Service (DMS)</li>
</ul>
<h2 id="Redshift-Workload-Management-WLM"><a href="#Redshift-Workload-Management-WLM" class="headerlink" title="Redshift Workload Management (WLM)"></a>Redshift Workload Management (WLM)</h2><ul>
<li>Manage query priorities using query queues</li>
<li>Avoid short, fast queries being stuck by long, slow queries</li>
<li>Setting by console, CLI, or API</li>
</ul>
<h2 id="Redshift-VACUUM-Command"><a href="#Redshift-VACUUM-Command" class="headerlink" title="Redshift VACUUM Command"></a>Redshift VACUUM Command</h2><ul>
<li>Clean table</li>
<li>VACUUM FULL (default)<ul>
<li>Resort rows and reclaim space from deleted rows</li>
</ul>
</li>
<li>VACUUM DELETE ONLY</li>
<li>VACUUM SORT ONLY</li>
<li>VACUUM REINDEX<ul>
<li>Reinitialize <strong>Interleaved</strong> sort keys, then do VACUUM FULL</li>
</ul>
</li>
</ul>
<h2 id="Redshift-Security"><a href="#Redshift-Security" class="headerlink" title="Redshift Security"></a>Redshift Security</h2><ul>
<li>Database can be encrypted using KMS or HSM</li>
</ul>
<h2 id="Redshift-Anti-patterns"><a href="#Redshift-Anti-patterns" class="headerlink" title="Redshift Anti-patterns"></a>Redshift Anti-patterns</h2><ul>
<li>Small data sets<ul>
<li>Use RDS</li>
</ul>
</li>
<li>OLTP<ul>
<li>Use RDS or DynamoDB</li>
</ul>
</li>
<li>Unstructured data<ul>
<li>ETL first with EMR or Glue</li>
<li>Or use Redshift Spectrum</li>
</ul>
</li>
<li>BLOB data<ul>
<li>Use S3</li>
</ul>
</li>
</ul>
<h1 id="Amazon-RDS"><a href="#Amazon-RDS" class="headerlink" title="Amazon RDS"></a>Amazon RDS</h1><ul>
<li>Hosted relational database service</li>
<li>Not for <em>big data</em></li>
</ul>
<h2 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h2><ul>
<li>RDS offer full ACID compliance<ul>
<li>Atomicity</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Durability</li>
</ul>
</li>
</ul>
<h2 id="Amazon-Aurora"><a href="#Amazon-Aurora" class="headerlink" title="Amazon Aurora"></a>Amazon Aurora</h2><ul>
<li>Up to 64TB per database instance</li>
<li>Up to 15 read replicas</li>
<li>Can continuous backup to S3</li>
<li>Can auto scaling with Aurora serverless</li>
</ul>
<h2 id="Aurora-Security"><a href="#Aurora-Security" class="headerlink" title="Aurora Security"></a>Aurora Security</h2><ul>
<li>In VPC</li>
<li>At-rest with KMS</li>
<li>In-transit with SSL</li>
</ul>

        
        <br>
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li style="background-color: white">
            <a target="_blank" href="https://github.com/Ys-Zhou">
                            <!-- <span class="fa-stack fa-lg"> -->
                                <!-- <i class="iconfont icon-github"></i> -->
                                <img src="/img/github-brands.svg">
                            <!-- </span> -->
            </a>
        </li>
        

        
        <li style="background-color: white">
            <a target="_blank" href="https://www.linkedin.com/in/yan-zhou-65358117b">
                            <!-- <span class="fa-stack fa-lg"> -->
                                <!-- <i class="iconfont icon-linkedin"></i> -->
                                <img src="/img/l-brands.svg">
                            <!-- </span> -->
            </a>
        </li>
        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
